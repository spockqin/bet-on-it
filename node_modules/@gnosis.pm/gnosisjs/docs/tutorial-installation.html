<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Installation - Documentation</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Tutorials</li><li class="nav-item"><a href="tutorial-developer-guide.html">Developer Guide</a></li><ol class="nav-tut-list"><li class="nav-item"><a href="tutorial-installation.html">Installation</a></li><li class="nav-item"><a href="tutorial-api-overview.html">API Overview</a></li><li class="nav-item"><a href="tutorial-events-oracles-and-markets.html">Events, Oracles, and Markets</a></li><li class="nav-item"><a href="tutorial-lmsr-primer.html">LMSR Primer</a></li></ol><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Gnosis.html">Gnosis</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Gnosis.html#.calcLMSRCost">calcLMSRCost</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Gnosis.html#.calcLMSRMarginalPrice">calcLMSRMarginalPrice</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Gnosis.html#.calcLMSROutcomeTokenCount">calcLMSROutcomeTokenCount</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Gnosis.html#.calcLMSRProfit">calcLMSRProfit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Gnosis.html#.create">create</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Gnosis.html#.requireEventFromTXResult">requireEventFromTXResult</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Gnosis.html#buyOutcomeTokens">buyOutcomeTokens</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Gnosis.html#createCategoricalEvent">createCategoricalEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Gnosis.html#createCentralizedOracle">createCentralizedOracle</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Gnosis.html#createMarket">createMarket</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Gnosis.html#createScalarEvent">createScalarEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Gnosis.html#createUltimateOracle">createUltimateOracle</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Gnosis.html#loadEventDescription">loadEventDescription</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Gnosis.html#publishEventDescription">publishEventDescription</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Gnosis.html#resolveEvent">resolveEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Gnosis.html#sellOutcomeTokens">sellOutcomeTokens</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Gnosis.html#setWeb3Provider">setWeb3Provider</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">Installation</h1>
    

    <section>

<header>
    
</header>

<article>
    <h3>Setting up a project using npm</h3><ol>
<li><p>Create a project directory, open a terminal or command line, and change directory into the project directory.</p>
</li>
<li><p>Use <code>npm init</code> to set up your project.</p>
</li>
<li><p>Install <code>gnosis.js</code> into your project as a dependency using:</p>
<pre class="prettyprint source"><code>npm install --save @gnosis.pm/gnosisjs</code></pre><p>Be sure to issue this command with this exact spelling.</p>
<p>This command installs the Gnosis JavaScript library and its dependencies into the <code>node_modules</code> directory. The <a href="https://www.npmjs.com/package/@gnosis.pm/gnosisjs"><code>@gnosis.pm/gnosisjs</code></a> package contains the following:</p>
<ul>
<li>ES6 source of the library in <code>src</code> which can also be found on the <a href="https://github.com/gnosis/gnosis.js">repository</a></li>
<li>Compiled versions of the modules which can be run on Node.js in the <code>dist</code> directory</li>
<li>Webpacked standalone <code>gnosis[.min].js</code> files ready for use by web clients in the <code>dist</code> directory</li>
<li>API documentation in the <code>docs</code> directory</li>
</ul>
</li>
</ol>
<h3>Node &quot;server-side&quot; setup</h3><p>Notice that the library refers to the <code>dist/index</code> module as the <code>package.json</code> main. This is because even though Node.js does support many new JavaScript features, it natively does not support the use of ES6 imports yet (see <a href="https://github.com/nodejs/help/issues/53">this issue</a>), so the modules are transpiled with <a href="https://babeljs.io/">Babel</a> for Node interoperability.</p>
<p>In the project directory, you can experiment with the Gnosis API by opening up a <code>node</code> shell and importing the library like so:</p>
<pre class="prettyprint source lang-js"><code>const Gnosis = require('@gnosis.pm/gnosisjs')</code></pre><p>This will import the transpiled library through the <code>dist/index</code> entry point, which exports the <a href="Gnosis.html">Gnosis</a> class.</p>
<h3>Browser use</h3><p>The <code>gnosis.js</code> file and its minified version <code>gnosis.min.js</code> are self-contained and can be used directly in a webpage. For example, you may copy <code>gnosis.min.js</code> into a folder or onto your server, and in an HTML page, use the following code to import the library:</p>
<pre class="prettyprint source lang-html"><code>&lt;script src=&quot;gnosis.min.js&quot;>&lt;/script>
&lt;script>
// Gnosis should be available as a global after the above script import, so this subsequent script tag can make use of the API.
&lt;/script></code></pre><p>After opening the page, the browser console can also be used to experiment with the API.</p>
<h3>Integration with webpack projects (advanced)</h3><p>The ES6 source can also be used directly with webpack projects. Please refer to the Babel transpilation settings in <a href="https://github.com/gnosis/gnosis.js/blob/master/.babelrc"><code>.babelrc</code></a> and the webpack configuration in <a href="https://github.com/gnosis/gnosis.js/blob/master/webpack.config.js"><code>webpack.config.js</code></a> to see what may be involved.</p>
<h3>Setting up an Ethereum JSON RPC</h3><p>After setting up the Gnosis.js library, you will still need a connection to an <a href="https://github.com/ethereum/wiki/wiki/JSON-RPC">Ethereum JSON RPC</a> provider. Without this connection, the following error occurs when trying to use the API to perform actions with the smart contracts:</p>
<pre class="prettyprint source"><code>Error: Invalid JSON RPC response: &quot;&quot;</code></pre><p>Gnosis.js refers to Truffle contract build artifacts found in <code>node_modules/@gnosis.pm/gnosis-core-contracts/build/contracts/</code>, which contain a registry of where key contracts are deployed given a network ID. By default Gnosis contract suite is already deployed on the Ropsten, Kovan, and Rinkeby testnets.</p>
<h4>TestRPC and private chain providers</h4><p><a href="https://github.com/ethereumjs/testrpc">TestRPC</a> is a JSON RPC provider which is designed to ease developing Ethereum dapps. It can be used in tandem with Gnosis.js as well, but its use requires some setup. Since TestRPC randomly generates a network ID and begins the Ethereum VM in a blank state, the contract suite would need to be deployed, and the deployed contract addresses recorded in the build artifacts before use with TestRPC. This can be done by running the migration script in the core contracts package directory.</p>
<pre class="prettyprint source lang-sh"><code>(cd node_modules/\@gnosis.pm/gnosis-core-contracts/ && truffle migrate)</code></pre><p>This will deploy the contracts onto the chain and will record the deployed addresses in the contract build artifacts. This will make the API available to Gnosis.js applications which use the transpiled <em>modules</em> in <code>dist</code> (typically Node.js apps), as these modules refer directly to the build artifacts in the <code>@gnosis.pm/gnosis-core-contracts</code> package. However, for browser applications which use the standalone library file <code>gnosis[.min].js</code>, that file has to be rebuilt to incorporate the new deployment addresses info.</p>
<h4>MetaMask</h4><p><a href="https://metamask.io/">MetaMask</a> is a Chrome browser plugin which injects an instrumented instance of Web3.js into the page. It comes preloaded with connections to the Ethereum mainnet as well as the Ropsten, Kovan, and Rinkeby testnets through <a href="https://infura.io/">Infura</a>. Gnosis.js works out-of-the-box with MetaMask configured to connect to these testnets. Make sure your web page is being <a href="https://github.com/MetaMask/faq/blob/master/DEVELOPERS.md">served over HTTP/HTTPS</a> and uses the standalone library file.</p>
</article>

</section>

</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sat Oct 07 2017 03:12:28 GMT-0500 (CDT) using the Minami theme.
</footer>

<script>hljs.initHighlightingOnLoad();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>